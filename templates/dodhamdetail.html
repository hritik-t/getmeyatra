{% extends "base.html" %}
{% load static %}

{% block content %}
<section class="about" id="about">
    <div class="container1">
        <div class="info-section">
            <!-- Left: Image -->
            <div class="left-column">
                <img src="{% static 'Images/DoDham.jpg' %}" alt="Do Dham" class="detail-image" />
                <h2>DoDham Tour Overview</h2>
                <p>
                    Join us on a divine pilgrimage to Khatu Shyamji, Salasar Balaji, and Rani Sati Mandir. This sacred
                    journey includes
                    transportation, guided darshans, and all meals – breakfast, lunch, and dinner. Our team ensures your
                    comfort and
                    spiritual fulfillment throughout the tour.
                </p>

                <p>
                    <strong>Duration:</strong> 2 Days, 1 Night <br />
                    <strong>Meals:</strong> Included <br />
                    <strong>Transportation:</strong> AC Cab (Private/Shared) <br />
                    <strong>Pickup:</strong> Delhi, Gurgaon, Jaipur <br />
                </p>
            </div>

            <!-- Right: Booking Form -->
            <div class="right-column booking-form">
                <h2>Book This Trip</h2>
                <form id="tripForm" method="POST" action="{% url 'book_trip' %}">
                    {% csrf_token %}
                    <!-- Row 1 -->
                    <div class="form-row">
                        <div class="form-group">
                            <label for="from">From:</label>
                            <select id="from" name="from" required>
                                <option value="Delhi">Delhi</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="to">To:</label>
                            <input type="text" id="to" name="to" value="DoDham" readonly />
                        </div>
                    </div>

                    <!-- Row 2 -->
                    <div class="form-row">
                        <div class="form-group">
                            <label for="date">Date:</label>
                            <select id="date" name="date" required>
                                <option value="">-- Select Date --</option>
                                <option value="10-08-2025">10-08-2025</option>
                                <option value="15-08-2025">15-08-2025</option>
                                <option value="20-08-2025">20-08-2025</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="pickup">Pickup Point:</label>
                            <select id="pickup" name="pickup" required>
                                <option value="">-- Select Pickup Point --</option>
                                <option value="Delhi">Delhi</option>
                                <option value="Gurgaon">Gurgaon</option>
                                <option value="Jaipur">Jaipur</option>
                            </select>
                        </div>
                    </div>

                    <!-- Row 3 -->
                    <div class="form-row">
                        <div class="form-group">
                            <label for="name">Full Name:</label>
                            <input type="text" id="name" name="name" placeholder="Your full name" required />
                        </div>
                        <div class="form-group">
                            <label for="email">Email:</label>
                            <input type="email" id="email" name="email" placeholder="your@example.com" required />
                        </div>
                    </div>

                    <!-- Row 4 -->
                    <div class="form-row">
                        <div class="form-group">
                            <label for="phone">Mobile Number:</label>
                            <input type="tel" id="phone" name="phone" placeholder="e.g. 9876543210" pattern="[0-9]{10}"
                                maxlength="10" required />
                        </div>
                        <div class="form-group">
                            <label for="altPhone">Alternate Mobile Number:</label>
                            <input type="tel" id="altPhone" name="altPhone" placeholder="e.g. 9876543211"
                                pattern="[0-9]{10}" maxlength="10" required />
                        </div>
                    </div>

                    <!-- Row 5 -->
                    <div class="form-row">
                        <div class="form-group">
                            <label for="persons">How Many Persons:</label>
                            <input type="number" id="persons" name="persons" min="1" placeholder="Number of travelers"
                                required />
                        </div>
                        <div class="form-group">
                            <label for="price">Price Per Person (INR):</label>
                            <input type="text" id="price" name="price" value="1999" readonly />
                        </div>
                    </div>

                    <!-- Total Price -->
                    <p id="total-price">Total Price: ₹1999</p>

                    <!-- Submit Button -->
                    <button type="submit" class="submit">Confirm Booking</button>
                </form>
            </div>
        </div>

        <div class="info">
            <!-- Tabs -->
            <div class="tabs">
                <button class="tab active" data-tab="itinerary">Itinerary</button>
                <button class="tab" data-tab="inclusions">Inclusions</button>
                <button class="tab" data-tab="exclusions">Exclusions</button>
                <button class="tab" data-tab="note">Important Note</button>
                <button class="tab" data-tab="hotel">Hotel Details</button>
            </div>

            <!-- Tab Contents -->
            <div id="itinerary" class="tab-content active">
                <h2>Day 1: Delhi to Agra - A Royal Welcome</h2>
                <ul>
                    <li>Morning pickup from your desired location in Delhi.</li>
                    <li>Scenic drive to Agra via Yamuna Expressway.</li>
                    <li>Check-in to your hotel in Agra.</li>
                    <li>Visit Agra Fort, a UNESCO World Heritage Site.</li>
                    <li>Explore Sadar Bazaar, try Agra's "Pethas", and sunset view from Mehtab Bagh.</li>
                    <li>Dinner at hotel.</li>
                </ul>
                <hr />
                <h2>Day 2: Taj Mahal & Fatehpur Sikri</h2>
                <ul>
                    <li>Early morning visit to the Taj Mahal.</li>
                    <li>Drive to Jaipur after breakfast.</li>
                    <li>Stop at Fatehpur Sikri: Buland Darwaza, Jama Masjid, Panch Mahal.</li>
                </ul>
            </div>

            <div id="inclusions" class="tab-content">
                <h2>Inclusions</h2>
                <ul>
                    <li>✔️ Includes 125 km and 5 hours</li>
                    <li>✔️ Driver Allowance</li>
                    <li>✔️ GST (5%)</li>
                </ul>
            </div>

            <div id="exclusions" class="tab-content">
                <h2>Exclusions</h2>
                <ul>
                    <li>❌ After 125 km - Pay ₹ 16.00/km</li>
                    <li>❌ After 7 hr - Pay ₹ 100.00/hr</li>
                    <li>❌ Tolls, State Tax/Permit charges</li>
                    <li>❌ Parking/Airport Entry Charge</li>
                </ul>
            </div>

            <div id="note" class="tab-content">
                <h2>Important Note</h2>
                <ul>
                    <li>Carry valid ID proof for hotel check-in.</li>
                    <li>Itinerary may change based on conditions.</li>
                </ul>
            </div>

            <div id="hotel" class="tab-content">
                <h2>Hotel Details</h2>
                <ul>
                    <li>Agra: 3-star hotel with complimentary breakfast</li>
                    <li>Jaipur: Heritage-style hotel with city view</li>
                </ul>
            </div>

        </div>
    </div>
    <!-- JS for total price calculation -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const personsInput = document.getElementById('persons');
            const totalPriceText = document.getElementById('total-price');
            const pricePerPerson = 1999;

            personsInput.addEventListener('input', function () {
                const count = parseInt(this.value) || 1;
                const total = count * pricePerPerson;
                totalPriceText.textContent = 'Total Price: ₹' + total.toLocaleString('en-IN');
            });
        });
    </script>

    <script>
        const tabs = document.querySelectorAll('.tab');
        const contents = document.querySelectorAll('.tab-content');

        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const target = tab.dataset.tab;

                tabs.forEach(t => t.classList.remove('active'));
                contents.forEach(c => c.classList.remove('active'));

                tab.classList.add('active');
                document.getElementById(target).classList.add('active');
            });
        });
    </script>
</section>
{% endblock content %}